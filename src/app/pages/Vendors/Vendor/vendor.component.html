<p-growl [(value)]="msgs"></p-growl>
<NgGrid (clickedAdd)="addClicked()" (clickedDelete)="deleteClicked()" (clickedEdit)="editClicked()"
        [colDefinition]="colDefs" on-rowSelected="rowSelected($event)"
        [rowData]="vendors"></NgGrid>


<p-dialog [(visible)]="display" modal="modal" [closable]="true" [showHeader]="true" [width]="700">
  <p-header>
    Add new vendor
  </p-header>
  <form #vendorForm="ngForm">
    <div class="row col-sm-12">
      <div class="col-sm-6">
        <label for="inputSuccess1" class="control-label">Vendor Code</label>
        <input type="text" class="form-control" style="color: black!important" [(ngModel)]="vendor.Code" (change)="valiadteForm()"
               id="inputSuccess1" required
               name="Code" #code="ngModel">
      </div>
      <div class="col-sm-6">
        <label for="inputSuccess3">Vendor Name</label>
        <input type="text" [(ngModel)]="vendor.Name" id="inputSuccess3" (change)="valiadteForm()"
               class="form-control" style="color: black!important" required
               name="Name" #name="ngModel">
      </div>
    </div>
    <div class="row col-sm-12">
      <div class="col-sm-6">
        <label for="inputSuccess2">Supplier</label>
        <div class="input-group">
        <input type="text" class="form-control" style="color: black!important" [(ngModel)]="vendor.Supplier.Name"
              id="inputSuccess2" required
              name="Supplier" #supplier="ngModel">
        <app-suppliers on-selectedRowListener="selectSupplier($event)"></app-suppliers>
      </div>
      </div>
      <div class="col-sm-6">
        <label for="inputPaymentTerm">Payment Term</label>
        <div class="input-group">
        <input type="text" class="form-control" style="color: black!important" [(ngModel)]="vendor.PaymentTerm.Name"
              id="inputPaymentTerm" required
              name="inputPaymentTerm" #inputPaymentTerm="ngModel">
        <app-paymentTerms on-selectedRowListener="selectPaymentTerm($event)"></app-paymentTerms>
      </div>
      </div>
    </div>
    <div class="row col-sm-12">
      <div class="col-sm-6">
        <label for="inputSuccess6">Country of Origin</label>
        <div class="input-group">
        <input type="text" [(ngModel)]="vendor.Country.Name" id="inputSuccess6"
               class="form-control" style="color: black!important;" required
               name="Country" #country="ngModel">
               <app-countries on-selectedRowListener="selectCountry($event)"></app-countries>
        </div>
      </div>
      <div class="col-sm-6">
        <label for="inputSuccess4">Description</label>
        <input type="textarea" [(ngModel)]="vendor.Description" id="inputSuccess4" (change)="valiadteForm()"
               class="form-control" style="color: black!important" required
               name="Description" #description="ngModel">
      </div>
    </div>
    <p-accordion>
      <p-accordionTab header="Bank Account">
        <div class="row col-sm-12">
          <div class="col-sm-6">
            <label for="inputSuccess5">Account No.</label>
            <input type="text " [(ngModel)]="vendor.AccountNo" id="inputSuccess5" (change)="valiadteForm()"
                   class="form-control" style="color: black!important" required
                   name="AccountNo" #accountNo="ngModel">
          </div>
          <div class="col-sm-6">
            <label for="inputSwiftCode">Swift Code</label>
            <input type="text " [(ngModel)]="vendor.SwiftCode" id="inputSwiftCode" (change)="valiadteForm()"
                   class="form-control" style="color: black!important" required
                   name="inputSwiftCode" #inputSwiftCode="ngModel">
          </div>
        </div>
        <div class="row col-sm-12">
          <div class="col-sm-6">
            <label for="inputBankName">BankName</label>
            <input type="text " [(ngModel)]="vendor.BankName" id="inputBankName" (change)="valiadteForm()"
                   class="form-control" style="color: black!important" required
                   name="inputBankName" #inputBankName="ngModel">
          </div>
          <div class="col-sm-6">
            <label for="inputBankAddress">Bank Address</label>
            <input type="text " [(ngModel)]="vendor.BankAddress" id="inputBankAddress" (change)="valiadteForm()"
                   class="form-control" style="color: black!important" required
                   name="inputBankAddress" #inputBankAddress="ngModel">
          </div>
        </div>
        <div class="row col-sm-12">
          <div class="col-sm-6">
            <label for="inputBeneficiaryName">Contact Person</label>
            <input type="text " [(ngModel)]="vendor.ResponsiblePerson" id="inputBeneficiaryName" (change)="valiadteForm()"
                   class="form-control" style="color: black!important" required
                   name="inputBeneficiaryName" #inputBeneficiaryName="ngModel">
          </div>
        </div>
      </p-accordionTab>
  </p-accordion>

    <div class="row">
      <div class="col-sm-2 offset-sm-8">
        <button type="button" (click)="onSubmit()" class="btn btn-success" [disabled]="!canSubmitVendorForm">Save</button>
      </div>
    </div>
  </form>

</p-dialog>
